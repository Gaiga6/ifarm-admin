# 系统管理模块

本模块包含用户管理、角色管理和权限管理三个子模块，提供完整的RBAC权限管理功能。

## 目录结构

```
src/views/system/
├── user/
│   └── list.vue          # 用户管理页面
├── role/
│   └── list.vue          # 角色管理页面
├── permission/
│   └── list.vue          # 权限管理页面
└── README.md             # 本文档
```

## 功能概览

### 用户管理 (`/system/user`)

**主要功能：**
- ✅ 用户列表展示（分页）
- ✅ 用户信息搜索（用户名、手机号、状态）
- ✅ 新增用户
- ✅ 编辑用户信息
- ✅ 删除用户（单个/批量）
- ✅ 重置用户密码
- ✅ 用户状态管理

**字段信息：**
- 基本信息：用户名、昵称、密码
- 联系信息：手机号、邮箱
- 个人信息：真实姓名、性别、生日、身份证号、地址
- 状态信息：启用/禁用状态

**表单验证：**
- 用户名：3-20个字符
- 密码：6-20个字符
- 手机号：11位数字，1开头
- 邮箱：标准邮箱格式
- 必填字段验证

### 角色管理 (`/system/role`)

**主要功能：**
- ✅ 角色列表展示（分页）
- ✅ 角色信息搜索（角色名称、角色编码、状态）
- ✅ 新增角色
- ✅ 编辑角色信息
- ✅ 删除角色（单个/批量）
- ✅ 权限分配（树形选择）
- ✅ 角色状态管理

**字段信息：**
- 角色名称：2-50个字符
- 角色编码：大写字母和下划线组合
- 角色描述：最多200个字符
- 状态：启用/禁用

**权限分配：**
- 树形结构展示所有权限
- 支持父子权限关联选择
- 实时保存权限配置

### 权限管理 (`/system/permission`)

**主要功能：**
- ✅ 权限树形列表展示
- ✅ 权限信息搜索（权限名称、类型、状态）
- ✅ 新增权限（支持层级结构）
- ✅ 编辑权限信息
- ✅ 删除权限（级联删除子权限）
- ✅ 展开/收起所有节点
- ✅ 权限状态管理

**权限类型：**
- 菜单（menu）：页面菜单权限
- 按钮（button）：页面按钮权限
- 接口（api）：API接口权限

**字段信息：**
- 权限名称：2-50个字符
- 权限编码：大写字母、下划线、冒号组合
- 权限类型：菜单/按钮/接口
- 父级权限：支持多层级结构
- 路径：权限对应的路径
- 图标：菜单图标（Element Plus图标）
- 排序号：权限排序
- 权限描述：权限说明

## 技术特性

### 组件技术栈
- **Vue 3**: Composition API
- **Element Plus**: UI组件库
- **Vue Router**: 路由管理
- **Axios**: HTTP请求

### 核心特性
1. **响应式设计**: 适配不同屏幕尺寸
2. **数据验证**: 完整的表单验证规则
3. **错误处理**: 统一的错误处理机制
4. **加载状态**: 请求加载状态反馈
5. **操作确认**: 危险操作二次确认
6. **分页查询**: 大数据量分页处理
7. **搜索过滤**: 多条件组合搜索
8. **批量操作**: 支持批量删除等操作

### 数据流
```
页面组件 → API调用 → Axios封装 → 后端接口
    ↓           ↓         ↓          ↓
  状态更新 ← 数据处理 ← 响应拦截 ← 服务器响应
```

## API接口

所有页面都使用 `src/api/user/` 下的API接口：

- **userApi**: 用户相关接口
- **roleApi**: 角色相关接口  
- **permissionApi**: 权限相关接口

## 使用方式

### 页面访问
- 用户管理：`http://localhost:3000/system/user`
- 角色管理：`http://localhost:3000/system/role`
- 权限管理：`http://localhost:3000/system/permission`

### 路由配置
```javascript
// src/router/index.js
{
  path: '/system',
  component: Layout,
  redirect: '/system/user',
  meta: {
    title: '系统管理',
    icon: 'Tools'
  },
  children: [
    {
      path: 'user',
      name: 'SystemUser',
      component: () => import('@/views/system/user/list.vue'),
      meta: { title: '用户管理', icon: 'User' }
    },
    {
      path: 'role', 
      name: 'SystemRole',
      component: () => import('@/views/system/role/list.vue'),
      meta: { title: '角色管理', icon: 'Avatar' }
    },
    {
      path: 'permission',
      name: 'SystemPermission', 
      component: () => import('@/views/system/permission/list.vue'),
      meta: { title: '权限管理', icon: 'Key' }
    }
  ]
}
```

## 开发说明

### 新增功能
1. 在对应页面添加UI组件
2. 在API文件中添加接口方法
3. 在页面组件中调用API
4. 添加必要的表单验证

### 样式定制
每个页面都有独立的样式作用域，可以安全地修改样式而不影响其他页面。

### 国际化
目前使用中文，如需要国际化支持，可以使用Vue I18n插件。

## 注意事项

1. **权限控制**: 实际项目中需要根据用户权限控制页面访问
2. **数据验证**: 前端验证只是第一道防线，后端也需要验证
3. **敏感操作**: 删除等敏感操作需要二次确认
4. **错误处理**: 网络错误、业务错误都有相应的提示
5. **性能优化**: 大数据量场景下考虑虚拟滚动等优化方案

## 扩展计划

- [ ] 用户导入/导出功能
- [ ] 操作日志记录
- [ ] 数据权限管理
- [ ] 组织架构管理
- [ ] 菜单权限可视化配置 